<!doctype html>
<html lang="ko">
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<link rel="stylesheet" href="../css/common-style.css" />
		<script src="../js/lucide.js"></script>
		<script src="../js/dedent.js"></script>
		<style>
			.comparison-grid {
				display: flex;
				flex-direction: column;
				gap: 28px;
				width: 100%;
			}

			.comparison-item {
				display: flex;
				flex-direction: column;
			}

			.version-title {
				font-size: var(--font-size-body);
				font-weight: 600;
				margin-bottom: 12px;
				color: var(--color-text-secondary);
				display: flex;
				align-items: center;
			}

			.version-badge {
				background-color: var(--color-primary);
				color: var(--color-text);
				font-size: 0.875rem;
				padding: 3px 8px;
				border-radius: 12px;
				margin-left: 10px;
				font-weight: 500;
			}

			.code-comparison {
				display: flex;
				justify-content: flex-start;
				align-items: center;
				gap: var(--spacing-item);
				margin-bottom: 10px;
			}

			.code-column {
				flex: 0 1 auto;
				min-width: 400px;
			}

			.code-box {
				background-color: var(--color-code-bg);
				border-left: 4px solid var(--color-primary);
				padding: 18px 28px;
				border-radius: var(--border-radius);
				display: flex;
				flex-direction: column;
				justify-content: center;
				box-shadow: 0 2px 8px rgba(0, 0, 0, 0.04);
			}

			.code-text {
				font-family: "SF Mono", "Monaco", "Consolas", monospace;
				font-size: var(--font-size-code);
				color: var(--color-text-secondary);
				line-height: 1.4;
			}

			.transform-arrow {
				display: flex;
				flex-direction: column;
				align-items: center;
				justify-content: center;
				margin: 0 20px;
			}

			.arrow {
				color: var(--color-primary);
			}

			.highlight {
				color: var(--color-primary);
				font-weight: 600;
			}

			.note {
				font-size: var(--font-size-small);
				color: var(--color-text-tertiary);
				line-height: 1.3;
				margin-top: 8px;
			}

			@media (max-height: 1000px) {
				.comparison-grid {
					gap: 20px;
				}

				.version-title {
					font-size: 1.1rem;
					margin-bottom: 6px;
				}

				.version-badge {
					font-size: 0.7rem;
					padding: 2px 6px;
				}

				.code-comparison {
					margin-bottom: 8px;
				}

				.code-column {
					min-width: 340px;
				}

				.code-box {
					padding: 14px 20px;
				}

				.code-text {
					line-height: 1.35;
				}

				.transform-arrow {
					margin: 0 10px;
				}

				.arrow {
					width: 28px;
					height: 28px;
				}

				.note {
					font-size: 0.85rem;
					line-height: 1.2;
					margin-top: 5px;
				}
			}

			@media (max-height: 900px) {
				.comparison-grid {
					gap: 16px;
				}

				.version-title {
					font-size: 1rem;
					margin-bottom: 5px;
				}

				.code-comparison {
					margin-bottom: 6px;
				}

				.code-box {
					padding: 12px 18px;
				}

				.code-text {
					font-size: 0.95rem;
					line-height: 1.3;
				}

				.note {
					font-size: 0.8rem;
					line-height: 1.15;
					margin-top: 4px;
				}
			}
		</style>
	</head>

	<body>
		<div class="slide-container">
			<div class="header">
				<div class="section-nav">
					<span class="section-item active">JSX Transpilation - JSX가 JavaScript로 변환되는 과정</span>
					<span class="section-item">Virtual DOM - 선언적 UI를 가능하게 하는 핵심 개념</span>
					<span class="section-item">Reconciliation - O(n³)에서 O(n)으로 최적화한 비교 알고리즘</span>
					<span class="section-item">얕은 비교와 불변성 - React가 선택한 트레이드오프</span>
					<span class="section-item">Fiber Architecture - 더 나은 사용자 경험을 위한 새로운 엔진</span>
				</div>
				<h1 class="title">JSX의 진화</h1>
			</div>

			<div class="comparison-grid">
				<div class="comparison-item">
					<h2 class="version-title">
						React 17 이전
						<span class="version-badge">Classic</span>
					</h2>
					<div class="code-comparison">
						<div class="code-column">
							<div class="code-box">
								<pre id="code-react17-before" class="code-text"></pre>
							</div>
						</div>
						<div class="transform-arrow">
							<i data-lucide="arrow-right" class="arrow" width="36" height="36"></i>
						</div>
						<div class="code-column">
							<div class="code-box">
								<pre id="code-react17-result" class="code-text"></pre>
							</div>
						</div>
					</div>
					<p class="note"><span class="highlight">React 임포트 필수:</span> import React from 'react';</p>
				</div>

				<div class="comparison-item">
					<h2 class="version-title">
						React 17 이후
						<span class="version-badge">New JSX Transform</span>
					</h2>
					<div class="code-comparison">
						<div class="code-column">
							<div class="code-box">
								<pre id="code-react17-after" class="code-text"></pre>
							</div>
						</div>
						<div class="transform-arrow">
							<i data-lucide="arrow-right" class="arrow" width="36" height="36"></i>
						</div>
						<div class="code-column">
							<div class="code-box">
								<pre id="code-react17-new-result" class="code-text"></pre>
							</div>
						</div>
					</div>
					<p class="note"><span class="highlight">React 임포트 불필요:</span> 자동으로 jsx 런타임 임포트</p>
				</div>
			</div>

			<div class="page-number">4</div>
		</div>

		<script>
			document.getElementById("code-react17-before").textContent = dedent(/* JAVASCRIPT */ `
				// import 필수
				import React from "react";

				// JSX 코드
				function App() {
					return (
						<h1>Hello</h1>
					);
				}
			`);

			document.getElementById("code-react17-result").textContent = dedent(/* JAVASCRIPT */ `
				// 변환 결과
				React.createElement("h1", null, "Hello");
			`);

			document.getElementById("code-react17-after").textContent = dedent(/* JAVASCRIPT */ `
				// import 생략가능
				function App() {
					return (
						<h1>Hello</h1>
					);
				}
			`);

			document.getElementById("code-react17-new-result").textContent = dedent(/* JAVASCRIPT */ `
				// 변환 결과
				import { jsx as _jsx } from 'react/jsx-runtime';

				_jsx("h1", { children: "Hello" });
			`);

			lucide.createIcons();
		</script>
	</body>
</html>
