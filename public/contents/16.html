<!doctype html>
<html lang="ko">
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<link rel="stylesheet" href="../css/common-style.css" />
		<script src="../js/lucide.js"></script>
		<script src="../js/dedent.js"></script>
		<style>
			.content {
				display: flex;
				flex-direction: column;
				gap: var(--spacing-section);
			}

			.code-box {
				max-width: 700px;
			}

			.code-comment {
				color: var(--color-text-muted);
			}

			.problem-list {
				display: flex;
				flex-direction: column;
				gap: var(--spacing-item);
			}

			.problem-item {
				display: flex;
				align-items: center;
				gap: var(--spacing-small);
			}

			.problem-icon {
				flex-shrink: 0;
				color: var(--color-error);
			}

			.problem-text {
				font-size: var(--font-size-body);
				font-weight: 500;
				line-height: 1.4;
				color: var(--color-text);
			}

			@media (max-height: 1000px) {
				.code-box {
					max-width: 600px;
					padding: 20px;
				}

				.code-text {
					font-size: 1rem;
				}

				.problem-text {
					font-size: 1.15rem;
				}

				.problem-icon {
					width: 24px;
					height: 24px;
				}
			}
		</style>
	</head>

	<body>
		<div class="slide-container">
			<div class="header">
				<div class="section-nav">
					<span class="section-item">JSX Transpilation - JSX가 JavaScript로 변환되는 과정</span>
					<span class="section-item">Virtual DOM - 선언적 UI를 가능하게 하는 핵심 개념</span>
					<span class="section-item">Reconciliation - O(n³)에서 O(n)으로 최적화한 비교 알고리즘</span>
					<span class="section-item">얕은 비교와 불변성 - React가 선택한 트레이드오프</span>
					<span class="section-item active">Fiber Architecture - 더 나은 사용자 경험을 위한 새로운 엔진</span>
				</div>
				<h1 class="title">Stack Reconciler의 한계</h1>
			</div>

			<div class="content">
				<div class="code-box">
					<pre id="code-16-reconcile" class="code-text"></pre>
				</div>
				<div class="problem-list">
					<div class="problem-item">
						<i data-lucide="x-circle" class="problem-icon" width="28" height="28"></i>
						<p class="problem-text">동기적 처리: 한 번 시작하면 끝까지 실행</p>
					</div>
					<div class="problem-item">
						<i data-lucide="x-circle" class="problem-icon" width="28" height="28"></i>
						<p class="problem-text">UI 응답성 저하: 입력 지연, 버벅임</p>
					</div>
					<div class="problem-item">
						<i data-lucide="x-circle" class="problem-icon" width="28" height="28"></i>
						<p class="problem-text">우선순위 없음: 모든 작업이 동일 취급</p>
					</div>
				</div>
			</div>

			<div class="page-number">16</div>
		</div>

		<script>
			document.getElementById("code-16-reconcile").textContent = dedent(/* JAVASCRIPT */ `
				function reconcileChildren(parent) {
					parent.children.forEach((child) => {
						reconcileChildren(child); // 재귀
						updateDOM(child); // 중단 불가
					});
				}
			`);

			lucide.createIcons();
		</script>
	</body>
</html>
